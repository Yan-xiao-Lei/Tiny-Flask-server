{% extends 'layout.html' %}
{% block content %}
<style>
    .displaypost{
        width: 24rem;
        border: 2px solid gray;
        padding: 1rem;
    }
    .us{
        display: grid;
        grid-template-columns: 1fr 2fr;
        align-items: center;
        margin-bottom: 1rem;
    }
    img{
        border-radius: 5%;        
        height: 6rem; width: 6rem;    
        }
    .contain{

    }
</style>

    <div class="displaypost">
        <div class="us">
        <img style=" " src="{{ url_for('static', filename=post.author.image_file) }}" alt="">
        <div class="contain">
            <p><a href="{{ url_for('users.user_posts', username=post.author.username) }}">{{ post.author.username }}</a> on {{ post.date_posted.strftime('%Y-%m-%d') }}</p>
            {% if post.author == current_user %}
                <div>
                    <a href="{{ url_for('posts.update_post', post_id=post.id) }}">更新</a>
                    <a href="{{ url_for('posts.delete_post', post_id=post.id) }}">删除</a>
                </div>
            {% endif %}

        </div>

        </div>
        
        <h4><a href="{{ url_for('posts.post', post_id=post.id)  }}">{{ post.title }}</a></h4>
        <p>{{ post.content }}</p>
        {% if post.body %}
        <hr>
        <p>{{ post.body }}</p>
        {% endif %}
    </div>

{% endblock content %}
    
